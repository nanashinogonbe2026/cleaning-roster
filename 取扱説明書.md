# 掃除当番表マネージャー V3 取扱説明書

## 1. 導入・初期設定

### アプリケーションの開始
1. `index.html` をブラウザ（Chrome, Edgeなど）で開きます。
2. 初回起動時、**「初期設定」**画面が表示されます。
3. メンバーの人数（例: 20）を入力し、「開始する」ボタンを押してください。

### メンバー名の編集
1. 画面上部のタブから**「👥 メンバー・設定」**をクリックします。
2. 「メンバーリスト」の名前欄を直接クリックして編集できます。
3. 編集が完了すると自動的に保存されます。
   - ※ 名前を変更しても、過去の履歴や負債データは引き継がれます。

---

## 2. 日々の運用（スケジュール確認）

**「📅 スケジュール表」**タブで日々の当番を確認します。

### 基本操作
- **月切り替え**: 画面左上の `◀` `▶` ボタンで表示月を変更できます。
- **再読込**: `🔄 再読込` ボタンで、表示を最新の状態に更新します。

### 当番の役割
- <span style="color: #fde047">**日直**</span>: その日の日直担当です。
- <span style="color: #86efac">**スピーチ**</span>: 朝のスピーチ担当です。
- <span style="color: #bbf7d0">**コメント**</span>: スピーチへのコメント担当です。
- <span style="color: #93c5fd">**掃除A / 掃除B**</span>: その日の掃除当番ペアです。

### 欠席・休日の管理
スケジュール表の各行で以下の操作が可能です。

1. **休日設定（休）ボタン**
   - その日を「休日」にします。全ての当番割り当てが解除されます。
   - もう一度押すと平日（稼働日）に戻ります。

2. **掃除なし（掃）ボタン**
   - その日の「掃除」のみを無しにします。日直などは割り当てられます。
   - 大掃除や全校行事などで掃除当番が不要な場合に使用します。

3. **個別の欠席登録**
   - 当番の名前をクリックすると、その人を「欠席（スキップ）」扱いにできます。
   - 欠席になった当番は赤字で名前が表示され、当番は自動的に別の人に再割り当てされます。
   - **重要**: ここで欠席にした人は「負債」として記録され、後日優先的に当番が回ってきます。

---

## 3. 高度な設定・調整

**「👥 メンバー・設定」**タブで行います。

### 開始位置（ポインタ）の調整
「ローテーション設定」エリアで、各役割が「次に誰から始まるか」を手動で変更できます。
- 間違って進めてしまった場合や、特定の生徒からリスタートしたい場合に使用します。
- `+` `-` ボタンで調整後、スケジュール表に戻ると変更が反映されています。

### データのバックアップと復元
ブラウザにデータが保存されますが、パソコンを変える場合などはデータ移行が必要です。

1. **💾 データを保存 (エクスポート)**
   - 現在の全データ（メンバー、進捗、負債など）を `json` ファイルとしてダウンロードします。
   - 定期的なバックアップを推奨します。

2. **📂 データを復元 (インポート)**
   - エクスポートした `json` ファイルを読み込み、データを復元します。
   - **注意**: 現在のデータはすべて上書きされます。

3. **⚠️ データを全てリセット**
   - 全てのデータを削除し、初期状態（人数入力画面）に戻ります。
   - 年度替わりなどで最初からやり直したい場合に使用します。

---

## 4. よくある質問 (Q&A)

**Q. 誤って欠席にしてしまいました。元に戻せますか？**
A. はい。スケジュール表で赤くなっている名前（または備考欄の名前）をもう一度クリックすると、出席扱いに戻り、当番も復帰します。

**Q. 掃除当番のペアはどう決まりますか？**
A. 出席番号順にスライドしていきます。
例：今日は「4番と5番」、明日は「5番と6番」…というように、毎日1人ずつずれてペアが組まれます。

**Q. 転校生が来た/辞めた場合は？**
A. 「メンバー・設定」タブのメンバーリストで、右端の「有効/無効」ボタンを切り替えてください。無効にするとローテーションから除外されます。
